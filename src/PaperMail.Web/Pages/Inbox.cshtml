@page
@model PaperMail.Web.Pages.InboxModel
@{
    ViewData["Title"] = "Inbox";
}

<div class="container">
    <header class="page-header">
        <h1>Inbox</h1>
        <nav class="header-actions">
            <a href="/compose" class="btn btn-primary">Compose</a>
            <a href="/settings" class="btn btn-secondary">Settings</a>
        </nav>
    </header>

    @if (!Model.Emails.Any())
    {
        <div class="empty-state">
            <p>No emails to display</p>
        </div>
    }
    else
    {
        <div class="email-list">
            @foreach (var email in Model.Emails)
            {
                <article class="email-item @(email.IsRead ? "read" : "unread")">
                    <a href="/email/@email.Id" class="email-link">
                        <div class="email-header">
                            <span class="email-from">@email.From</span>
                            <time class="email-date" datetime="@email.ReceivedAt.ToString("o")">
                                @email.ReceivedAt.ToString("MMM dd")
                            </time>
                        </div>
                        <h2 class="email-subject">@email.Subject</h2>
                        @if (email.HasAttachments)
                        {
                            <span class="attachment-indicator" aria-label="Has attachments">ðŸ“Ž</span>
                        }
                    </a>
                </article>
            }
        </div>

        @if (Model.TotalPages > 1)
        {
            <nav class="pagination" aria-label="Page navigation">
                @if (Model.CurrentPage > 0)
                {
                    <a href="?page=@(Model.CurrentPage - 1)" class="pagination-prev">Previous</a>
                }
                <span class="pagination-info">Page @(Model.CurrentPage + 1) of @Model.TotalPages</span>
                @if (Model.CurrentPage < Model.TotalPages - 1)
                {
                    <a href="?page=@(Model.CurrentPage + 1)" class="pagination-next">Next</a>
                }
            </nav>
        }
    }
</div>
